const namespace=mw.config.get("wgNamespaceNumber"),special=mw.config.get("wgCanonicalSpecialPageName"),title=mw.config.get("wgTitle");function loadGHGadget(github){mw.loader.load(`//fastly.jsdelivr.net/gh/${github}.min.js`)}function loadBearGadget(beargadget){loadGHGadget(`BearBin1215/MoegirlPedia@master/dist/gadgets/${beargadget}`)}function loadUserGadget(pagename){mw.loader.load(`//mzh.moegirl.org.cn/index.php?title=${pagename}&action=raw&ctype=text/javascript`)}if(-1===namespace)switch(special||title){case"BulkMove":loadBearGadget("BulkMove");break;case"MassDelete":loadUserGadget("User:星海子/js/MassDelete.js");break;case"Movepage":{const reasons=[["消歧义","[[萌娘共享:页面命名指引|消歧义]]"],["主站命名"],["讨论版申请"]];$("#wpReason").after($('<div id="move-reason" style="margin-top: .3em"></div>').append(reasons.map(function(reason){return $('<a title="'+(reason[1]||reason[0])+'">'+reason[0]+"</a>").on("click",function(){$("#wpReason input").val(reason[1]||reason[0])})}).reduce(function(acc,cur,index){return 0!==index&&acc.push("丨"),acc.concat(cur)},[])));break}}else 14===namespace?(loadBearGadget("Cat-in-Tree"),loadUserGadget("User:穆斯塔法凯末尔/Cat-a-lot.js")):6===namespace&&loadBearGadget("FileUsedNotLinked");loadBearGadget("CtrlS"),loadBearGadget("ListEnhancer"),loadUserGadget("User:Nzh21/js/QuickDiff.js"),loadGHGadget(`Saoutax/MWGadgets@main/dist/${"DisabledRedlink"}`),loadGHGadget("Saoutax/MediaWikiTools@main/src/CategoryFileInspector"),[["BulkMove","BulkMove"],["MassDelete","批量挂删"]].forEach(function(gadget){title!==gadget[0]&&mw.loader.using("mediawiki.util").then(function(){mw.util.addPortletLink("p-tb","/Special:"+gadget[0],gadget[1],"t-"+gadget[0].toLowerCase())})}),(window.InPageEdit=window.InPageEdit||{}).myPreference={doNotCollectMyInfo:!1,editMinor:!0,editSummary:"$section // Edit via InPageEdit",lockToolBox:!1,redLinkQuickEdit:!1,outSideClose:!0,watchList:"preferences",noConfirmEdit:!0,plugins:["toolbox.js","wiki-editor.js","quick-thank.js","color-preview.js","code-mirror/cm6.js","edit-any-page.js","fix-double-entrance.js"]},loadGHGadget("MoegirlPediaInterfaceAdmins/MoegirlPediaInterfaceCodes@master/src/gadgets/inpageedit-next/Gadget-inpageedit-next");
